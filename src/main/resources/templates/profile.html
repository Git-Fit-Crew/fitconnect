<!DOCTYPE html>
<html class="h-100" lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<th:block th:replace="~{partials :: head}"></th:block>
	<meta charset="UTF-8">
	<title>Profile</title>
	<style>
		.pic {
			height: 50px;
			width: 50px;
		}
	</style>
</head>
<body class="h-100 d-flex flex-column">
<nav th:replace="~{partials :: nav}"></nav>

<br>
<br>
<h1 style="text-align:center">Profile Page</h1>
<br>
<br>

<div class="homeCards col-12">
<th:block th:if="${isLoggedInUser}">
	<div th:if="${!isWorkoutLoggedToday}">
		<form th:action="@{/profile/workout}" th:method="post">
			<p>Did you workout today?</p>
			<button type="submit" class="btn btn-success btn-sm">Yes</button>
		</form>
		<button id="dismiss-workout" class="btn btn-success btn-sm">Dismiss</button>
	</div>
</th:block>
</div>

<div class="homeCards d-flex flex-row justify-content-around">
	<div class="card" style="width: 32%;">
		<img src="/" th:src="@{{path}(path=${user.photo})}" class="userImg" alt="...">
		<div class="card-body">

			<h5 th:text="${user.username}" style="color:#5beb34;">(insert username here)</h5>
			<p class="card-text" th:text="${user.name}"></p>
			<!--If logged in user, edit button-->
			<form th:if="${isLoggedInUser}" th:action="@{|/profile/showFormForUpdate/${user.id}|}">
				<button type="submit" class="btn btn-success btn-sm">Edit Profile</button>
			</form>
			<!--If not logged in user, request or remove button-->
			<th:block th:if="${!isLoggedInUser}">
				<a th:if="${!isFriend}" th:href="@{/profile/{id}/request(id=${user.id})}" class="btn btn-success btn-sm">Send friend request!</a>
				<!--	<button type="submit">Block user</button>-->
				<a th:if="${isFriend}" th:href="@{/profile/{id}/remove(id=${user.id})}" class="btn btn-success btn-sm">Remove friend</a>
			</th:block>

		</div>
	</div>


</div>









<div th:id="workout-calendar">
	<h5>Workout Tracker</h5>
	<ul>
		<th:block th:each="workout : ${user.getWorkouts()}">
			<li th:text="${workout.workoutDate}"></li>
		</th:block>
	</ul>
</div>


<img class="pic" th:if="${user.photo != null}" th:src="@{${user.photosImagePath}}" />





<p th:text="${user.zipcode}">(insert zipcode here)</p>
<p th:text="${user.gender}">(insert gender here)</p>
<p th:text="${user.bio}">(insert bio here)</p>
<p th:if="${user.gym != null}" th:text="${user.gym.name}">(insert gym name here)</p>
<p th:if="${user.gym != null}" th:text="${user.gym.address}">(insert gym address here)</p>
<th:block th:if="${!user.getStyles().isEmpty()}">
	<p>Your workout styles</p>
	<ul>
		<li th:each="style : ${user.getStyles()}" th:text="${style.name}">Replace with style name</li>
	</ul>
</th:block>
<th:block th:if="${!user.getGoals().isEmpty()}">
	<p>Your workout goals</p>
	<ul>
		<li th:each="goal : ${user.getGoals()}" th:text="${goal.name}">Replace with style name</li>
	</ul>
</th:block>



<footer th:replace="~{partials :: footer}"></footer>
<th:block th:replace="~{partials :: scripts}"></th:block>
</body>
</html>